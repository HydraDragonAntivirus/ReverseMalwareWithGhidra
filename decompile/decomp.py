def remove_whitespace_lines(input_file, output_file):
    with open(input_file, 'r') as in_file, open(output_file, 'w') as out_file:
        previous_line_empty = False
        
        for line in in_file:
            # Check if the line is empty or contains only whitespace
            if line.strip():
                # If it's not empty, write it to the output file
                out_file.write(line)
                previous_line_empty = False
            elif not previous_line_empty:
                # If it's an empty line and the previous line was not empty, write one empty line
                out_file.write('\n')
                previous_line_empty = True

# Usage
input_file = 'c_decompiled.txt'  # Replace with your input file
output_file = 'output.txt'  # Replace with your output file

remove_whitespace_lines(input_file, output_file)
print(f"Whitespace lines removed and output saved to '{output_file}'.")
